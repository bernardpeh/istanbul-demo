FROM quay.io/amis/quorum:feature_istanbul

RUN mkdir -p /eth
RUN echo "{\"config\": {\"chainId\": 2017,\"istanbul\": {}, \"isQuorum\": true},\"nonce\": \"0x0000000000000000\",\"timestamp\": \"0x0\",\"parentHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\"extraData\": \"0x0000000000000000000000000000000000000000000000000000000000000000f858f85494294fc7e8f22b3bcdcf955dd7ff3ba2ed833f82129444add0ec310f115a0e603b2d7db9f067778eaf8a946beaaed781d2d2ab6350f5c4566a2c6eaac407a6948be76812f765c24641ec63dc2852b378aba2b44080c0\",\"gasLimit\": \"0x47e7c4\",\"difficulty\": \"0x1\",\"mixhash\": \"0x63746963616c2062797a616e74696e65206661756c7420746f6c6572616e6365\",\"coinbase\": \"0x0000000000000000000000000000000000000000\",\"alloc\": {\"0x1a9afb711302c5f83b5902843d1c007a1a137632\": {\"balance\": \"999900000000000000000000000000000000000000000\"},\"0x26c7ea56af25113f712befbf2077798fd7fbdb7c\": {\"balance\": \"999900000000000000000000000000000000000000000\"},\"0xa4137d4ad166ae825f1b8dbb0c3d48f25f172e9e\": {\"balance\": \"999900000000000000000000000000000000000000000\"},\"0xf5aee8f402a330bbdb5063080c31ff2df47dbb0a\": {\"balance\": \"999900000000000000000000000000000000000000000\"},\"0xcce903202b149c677f91d30dddf83d05a741871a\": {\"balance\": \"999900000000000000000000000000000000000000000\"},\"0xcc09b0634677b41668e6386844233528cee0a7d5\": {\"balance\": \"999900000000000000000000000000000000000000000\"},\"0x3e28ea543417edafa7625e823d35e20b09115baa\": {\"balance\": \"999900000000000000000000000000000000000000000\"}}}" > /eth/genesis.json

ADD ./entrypoint.sh entrypoint.sh
RUN chmod +x entrypoint.sh

ENTRYPOINT ["sh", "entrypoint.sh"]